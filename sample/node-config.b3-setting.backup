[
    {
        "name": "AlwaysFail",
        "type": "Decorator",
        "desc": "始终返回失败",
        "doc": "+ 只能有一个子节点，多个仅执行第一个\n+ 不管子节点是否成功都返回`失败`"
    },
    {
        "name": "AlwaysSuccess",
        "type": "Decorator",
        "desc": "始终返回成功",
        "doc": "+ 只能有一个子节点，多个仅执行第一个\n+ 不管子节点是否成功都返回`成功`"
    },
    {
        "name": "Check",
        "type": "Condition",
        "desc": "检查True或False",
        "args": [
        {
            "name": "value",
            "type": "code",
            "desc": "值"
        }
        ],
        "doc": "+ 做简单数值公式判定，返回「成功」或「失败」"
    },
    {
        "name": "Clear",
        "type": "Action",
        "desc": "清除变量",
        "children": 0,
        "output": [
            {
                "name": "cleared_var_name",
                "desc": "清除的变量名",
                "type": "object_var",
                "value_type": "string"
            }
        ]
    },
    {
        "name": "ForEach",
        "type": "Composite",
        "desc": "遍历数组",
        "input": [
            {
                "name": "array",
                "desc": "数组",
                "type": "object_var",
                "value_type": "array"
            }
        ],
        "output": [
            {
                "name": "variable",
                "desc": "变量",
                "type": "object_var",
                "value_type": "any"
            }
        ],
        "doc": "+ 每次执行子节点前会设置当前遍历到的变量\n+ 会执行所有子节点\n+ 永远返回「成功」/「运行中」"
    },
    {
        "name": "Inverter",
        "type": "Decorator",
        "desc": "反转子节点运行结果",
        "doc": "+ 只能有一个子节点，多个仅执行第一个\n+ 当子节点返回「成功」时返回「失败」\n+ 当子节点返回「失败」时返回「成功」\n+ 其余返回「运行中」"
    },
    {
        "name": "IsNull",
        "type": "Condition",
        "desc": "判断变量是否不存在",
        "input": [
            {
                "name": "variable_to_check",
                "desc": "判断的变量",
                "type": "object_var",
                "value_type": "any"
            }
        ]
    },
    {
        "name": "Listen",
        "type": "Decorator",
        "desc": "侦听行为树事件",
        "args": [
        {
            "name": "builtin",
            "type": "string",
            "desc": "事件",
            "options": [
            {
                "name": "行为树被中断",
                "value": "interrupted"
            },
            {
                "name": "行为树开始执行前",
                "value": "beforeRun"
            },
            {
                "name": "行为树执行完成后",
                "value": "afterRun"
            },
            {
                "name": "行为树执行成功后",
                "value": "afterRunSuccess"
            },
            {
                "name": "行为树执行失败后",
                "value": "afterRunFailure"
            }
            ]
        },
        {
            "name": "event",
            "type": "string?",
            "desc": "自定义事件"
        }
        ],
        "doc": "+ 当事件触发时，执行第一个子节点，多个仅执行第一个\n+ 如果子节点返回 「运行中」，会中断执行并清理执行栈"
    },
    {
        "name": "Log",
        "type": "Action",
        "desc": "打印日志",
        "args": [
        {
            "name": "message",
            "type": "string",
            "desc": "日志"
        }
        ]
    },
    {
        "name": "Loop",
        "type": "Composite",
        "desc": "循环执行",
        "input": [
            {
                "name": "loop_count",
                "desc": "循环次数",
                "type": "object_var",
                "value_type": "int",
                "optional": true
            }
        ],
        "args": [
        {
            "name": "count",
            "type": "int",
            "desc": "循环次数"
        }
        ]
    },
    {
        "name": "NotNull",
        "type": "Condition",
        "desc": "判断变量是否存在",
        "input": [
            {
                "name": "variable_to_check",
                "desc": "判断的变量",
                "type": "object_var",
                "value_type": "any"
            }
        ]
    },
    {
        "name": "Now",
        "type": "Action",
        "desc": "获取当前时间",
        "output": [
            {
                "name": "current_time",
                "desc": "当前时间",
                "type": "object_var",
                "value_type": "number"
            }
        ]
    },
    {
        "name": "Once",
        "type": "Decorator",
        "desc": "只执行一次",
        "doc": "+ 只能有一个子节点，多个仅执行第一个\n+ 被打断后该节点后的子节点依旧不会执行\n+ 该节点执行后永远返回「成功」"
    },
    {
        "name": "Parallel",
        "type": "Composite",
        "desc": "并行执行",
        "doc": "执行所有子节点并返回「成功」/「运行中」"
    },
    {
        "name": "RepeatUntilFailure",
        "type": "Decorator",
        "desc": "一直尝试直到子节点返回失败",
        "input": [
            {
                "name": "max_loop_count",
                "desc": "最大循环次数",
                "type": "object_var",
                "value_type": "int",
                "optional": true
            }
        ],
        "args": [
        {
            "name": "maxLoop",
            "type": "int?",
            "desc": "最大循环次数"
        }
        ],
        "doc": "+ 只能有一个子节点，多个仅执行第一个\n+ 只有当子节点返回「失败」时，才返回「成功」，其它情况返回「运行中」状态\n+ 如果设定了尝试次数，超过指定次数则返回「失败」"
    },
    {
        "name": "RepeatUntilSuccess",
        "type": "Decorator",
        "desc": "一直尝试直到子节点返回成功",
        "input": [
            {
                "name": "max_loop_count",
                "desc": "最大循环次数",
                "type": "object_var",
                "value_type": "int",
                "optional": true
            }
        ],
        "args": [
        {
            "name": "maxLoop",
            "type": "int?",
            "desc": "最大循环次数"
        }
        ],
        "doc": "+ 只能有一个子节点，多个仅执行第一个\n+ 只有当子节点返回「成功」时，才返回「成功」，其它情况返回「运行中」状态\n+ 如果设定了尝试次数，超过指定次数则返回「失败」"
    },
    {
        "name": "Selector",
        "type": "Composite",
        "desc": "选择执行",
        "doc": "+ 一直往下执行，有子节点返回「成功」则返回「成功」\n+ 若全部节点返回「失败」则返回「失败」\n+ 子节点是或 (OR) 的关系"
    },
    {
        "name": "Sequence",
        "type": "Composite",
        "desc": "顺序执行",
        "doc": "+ 一直往下执行，只有当所有子节点都返回「成功」, 才返回「成功」\n+ 子节点是与（AND）的关系"
    },
    {
        "name": "Timeout",
        "type": "Decorator",
        "desc": "超时",
        "args": [
        {
            "name": "time",
            "type": "float",
            "desc": "超时时间"
        }
        ],
        "doc": "+ 只能有一个子节点，多个仅执行第一个\n+ 当子节点执行超时或返回「失败」时，返回「失败」\n+ 其余情况返回子节点的执行状态\n"
    },
    {
        "name": "Wait",
        "type": "Action",
        "desc": "等待",
        "input": [
            {
                "name": "wait_time",
                "desc": "等待时间",
                "type": "object_var",
                "value_type": "float",
                "optional": true
            }
        ],
        "args": [
        {
            "name": "time",
            "type": "float",
            "desc": "等待时间"
        },
        {
            "name": "random",
            "type": "float?",
            "desc": "随机范围"
        }
        ]
    },
    {
        "name": "Attack",
        "type": "Action",
        "input": [
            {
                "name": "target",
                "desc": "目标",
                "type": "object_var",
                "value_type": "object"
            }
        ],
        "desc": "攻击"
    },
    {
        "name": "Cmp",
        "type": "Condition",
        "icon": "icons/cmp.svg",
        "doc": "+ 支持左值与右值的比较\n+ 左值和右值都支持常量、变量、表达式\n+ 支持 >、>=、==、!=、<=、< 6种运算符\n",
        "input": [
            {
                "name": "left_value",
                "desc": "左值",
                "type": "object_var",
                "value_type": "any"
            }
        ],
        "args": [
        {
            "name": "leftValue",
            "desc": "左值",
            "type": "code?"
        },
        {
            "name": "operator",
            "desc": "运算符",
            "type": "string",
            "options": [
            {
                "name": "大于",
                "value": ">"
            },
            {
                "name": "大于等于",
                "value": ">="
            },
            {
                "name": "等于",
                "value": "=="
            },
            {
                "name": "不等于",
                "value": "!="
            },
            {
                "name": "小于等于",
                "value": "<="
            },
            {
                "name": "小于",
                "value": "<"
            }
            ]
        },
        {
            "name": "rightValue",
            "desc": "右值",
            "type": "code?"
        }
        ],
        "desc": "比较值大小"
    },
    {
        "name": "FindEnemy",
        "output": [
            {
                "name": "target_unit",
                "desc": "目标单位",
                "type": "object_var",
                "value_type": "object"
            }
        ],
        "type": "Condition",
        "doc": "+ 没找到返回失败\n",
        "args": [
        {
            "name": "x",
            "desc": "x",
            "type": "int?"
        },
        {
            "name": "y",
            "desc": "y",
            "type": "int?"
        },
        {
            "name": "w",
            "desc": "宽",
            "type": "int?"
        },
        {
            "name": "h",
            "desc": "高",
            "type": "int?"
        },
        {
            "name": "count",
            "desc": "查找上限",
            "type": "string?"
        }
        ],
        "desc": "查找敌人"
    },
    {
        "name": "GetHp",
        "output": [
            {
                "name": "hp_value",
                "desc": "生命值",
                "type": "object_var",
                "value_type": "number"
            }
        ],
        "type": "Action",
        "desc": "获取生命值"
    },
    {
        "name": "Idle",
        "type": "Action",
        "desc": "待机"
    },
    {
        "name": "MoveToPos",
        "type": "Action",
        "group": [
        "Client"
        ],
        "args": [
        {
            "name": "x",
            "desc": "x",
            "type": "int"
        },
        {
            "name": "y",
            "desc": "y",
            "type": "int"
        }
        ],
        "desc": "移动到坐标"
    },
    {
        "name": "MoveToTarget",
        "type": "Action",
        "group": [
        "Server"
        ],
        "input": [
            {
                "name": "target",
                "desc": "目标",
                "type": "object_var",
                "value_type": "object"
            }
        ],
        "desc": "移动到目标"
    },
    {
        "name": "TestB3",
        "type": "Action",
        "group": [
        "Client",
        "Server",
        "Test"
        ],
        "args": [
        {
            "name": "time",
            "desc": "时间",
            "type": "int"
        },
        {
            "name": "random",
            "desc": "随机",
            "type": "float?"
        },
        {
            "name": "open",
            "desc": "打开来",
            "type": "boolean"
        },
        {
            "name": "check",
            "desc": "检查",
            "type": "code"
        },
        {
            "name": "name",
            "desc": "检查",
            "type": "string"
        },
        {
            "name": "status",
            "desc": "状态",
            "type": "string",
            "options": [
            {
                "name": "成功",
                "value": "SUCCESS"
            },
            {
                "name": "失败",
                "value": "FAILURE"
            },
            {
                "name": "运行中",
                "value": "RUNNING"
            }
            ]
        }
        ],
        "desc": "等待"
    },
    {
        "name": "GetHomeDistance",
        "type": "Action",
        "desc": "获取回家距离",
        "output": [
            {
                "name": "home_distance",
                "desc": "回家距离",
                "type": "object_var",
                "value_type": "int"
            }
        ]
    },
    {
        "name": "GetBornXY",
        "type": "Action",
        "desc": "获取出生点坐标",
        "output": [
            {
                "name": "born_position",
                "desc": "出生点坐标",
                "type": "object_var",
                "value_type": "object"
            }
        ]
    },
    {
        "name": "GetHomePath",
        "type": "Action",
        "desc": "获取回家路径",
        "input": [
            {
                "name": "born_position",
                "desc": "出生点坐标",
                "type": "object_var",
                "value_type": "object"
            }
        ],
        "output": [
            {
                "name": "home_path",
                "desc": "回家路径",
                "type": "object_var",
                "value_type": "array"
            }
        ]
    },
    {
        "name": "GoHome",
        "type": "Action",
        "desc": "回家",
        "input": [
            {
                "name": "home_path",
                "desc": "回家路径",
                "type": "object_var",
                "value_type": "array"
            }
        ],
        "args": [
            {
                "name": "action_duration",
                "desc": "总执行时间(ms)",
                "type": "code?"
            },
            {
                "name": "next_action_wait",
                "desc": "等待(ms)再次执行",
                "type": "code?"
            }
        ]
    }
]
