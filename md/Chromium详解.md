# Chromium è¯¦è§£

## ğŸ“‹ ç›®å½•

1. [ä»€ä¹ˆæ˜¯ Chromium](#ä»€ä¹ˆæ˜¯-chromium)
2. [Chromium æ¶æ„](#chromium-æ¶æ„)
3. [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
4. [Chromium åœ¨ Electron ä¸­çš„è§’è‰²](#chromium-åœ¨-electron-ä¸­çš„è§’è‰²)
5. [å¤šè¿›ç¨‹æ¶æ„](#å¤šè¿›ç¨‹æ¶æ„)
6. [æ¸²æŸ“æµç¨‹](#æ¸²æŸ“æµç¨‹)
7. [ä¸å…¶ä»–æµè§ˆå™¨çš„å…³ç³»](#ä¸å…¶ä»–æµè§ˆå™¨çš„å…³ç³»)
8. [å®é™…åº”ç”¨](#å®é™…åº”ç”¨)

---

## ğŸŒ ä»€ä¹ˆæ˜¯ Chromiumï¼Ÿ

### åŸºæœ¬å®šä¹‰

**Chromium** æ˜¯ä¸€ä¸ªç”± Google ä¸»å¯¼å¼€å‘çš„**å¼€æºæµè§ˆå™¨é¡¹ç›®**ï¼Œæ˜¯è®¸å¤šç°ä»£æµè§ˆå™¨çš„åŸºç¡€ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Chromium ç”Ÿæ€ç³»ç»Ÿ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Chromiumï¼ˆå¼€æºé¡¹ç›®ï¼‰                                    â”‚
â”‚  â””â”€ æµè§ˆå™¨å¼•æ“ + æ¸²æŸ“å¼•æ“ + JavaScript å¼•æ“             â”‚
â”‚                                                         â”‚
â”‚  åŸºäº Chromium çš„äº§å“                                    â”‚
â”‚  â”œâ”€ Google Chromeï¼ˆæ·»åŠ  Google æœåŠ¡ï¼‰                   â”‚
â”‚  â”œâ”€ Microsoft Edgeï¼ˆæ·»åŠ  Microsoft æœåŠ¡ï¼‰               â”‚
â”‚  â”œâ”€ Operaï¼ˆæ·»åŠ  Opera æœåŠ¡ï¼‰                            â”‚
â”‚  â”œâ”€ Braveï¼ˆæ·»åŠ éšç§åŠŸèƒ½ï¼‰                               â”‚
â”‚  â”œâ”€ Vivaldiï¼ˆæ·»åŠ è‡ªå®šä¹‰åŠŸèƒ½ï¼‰                           â”‚
â”‚  â””â”€ Electronï¼ˆæ·»åŠ  Node.jsï¼Œç”¨äºæ¡Œé¢åº”ç”¨ï¼‰              â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç‰¹ç‚¹

1. **å¼€æº**
   - ä»£ç å®Œå…¨å¼€æ”¾
   - éµå¾ª BSD è®¸å¯è¯
   - ä»»ä½•äººéƒ½å¯ä»¥æŸ¥çœ‹ã€ä¿®æ”¹ã€åˆ†å‘

2. **è·¨å¹³å°**
   - Windows
   - macOS
   - Linux
   - Android
   - iOSï¼ˆéƒ¨åˆ†ï¼‰

3. **ç°ä»£åŒ–**
   - æ”¯æŒæœ€æ–° Web æ ‡å‡†
   - å¿«é€Ÿæ›´æ–°å‘¨æœŸ
   - é«˜æ€§èƒ½

4. **æ¨¡å—åŒ–**
   - å¯ä»¥åªä½¿ç”¨éƒ¨åˆ†ç»„ä»¶
   - æ˜“äºé›†æˆåˆ°å…¶ä»–é¡¹ç›®

---

## ğŸ—ï¸ Chromium æ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Chromium æµè§ˆå™¨                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          æµè§ˆå™¨è¿›ç¨‹ (Browser Process)                â”‚   â”‚
â”‚  â”‚  - UI æ¸²æŸ“ï¼ˆåœ°å€æ ã€æ ‡ç­¾é¡µã€æŒ‰é’®ï¼‰                    â”‚   â”‚
â”‚  â”‚  - ç½‘ç»œè¯·æ±‚ç®¡ç†                                      â”‚   â”‚
â”‚  â”‚  - æ–‡ä»¶è®¿é—®                                          â”‚   â”‚
â”‚  â”‚  - è¿›ç¨‹ç®¡ç†                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                       â”‚                                     â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚            â†“          â†“          â†“                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ æ¸²æŸ“è¿›ç¨‹ 1   â”‚ â”‚ æ¸²æŸ“è¿›ç¨‹ 2   â”‚ â”‚ æ¸²æŸ“è¿›ç¨‹ N   â”‚          â”‚
â”‚  â”‚ (Renderer)  â”‚ â”‚ (Renderer)  â”‚ â”‚ (Renderer)  â”‚          â”‚
â”‚  â”‚             â”‚ â”‚             â”‚ â”‚             â”‚          â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚  â”‚ â”‚ Blink   â”‚ â”‚ â”‚ â”‚ Blink   â”‚ â”‚ â”‚ â”‚ Blink   â”‚ â”‚          â”‚
â”‚  â”‚ â”‚æ¸²æŸ“å¼•æ“  â”‚ â”‚ â”‚ â”‚æ¸²æŸ“å¼•æ“  â”‚ â”‚ â”‚ â”‚æ¸²æŸ“å¼•æ“  â”‚ â”‚          â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚  â”‚ â”‚   V8    â”‚ â”‚ â”‚ â”‚   V8    â”‚ â”‚ â”‚ â”‚   V8    â”‚ â”‚          â”‚
â”‚  â”‚ â”‚JS å¼•æ“  â”‚ â”‚ â”‚ â”‚JS å¼•æ“  â”‚ â”‚ â”‚ â”‚JS å¼•æ“  â”‚ â”‚          â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ GPU è¿›ç¨‹    â”‚ â”‚ ç½‘ç»œè¿›ç¨‹     â”‚ â”‚ æ’ä»¶è¿›ç¨‹     â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ æ ¸å¿ƒç»„ä»¶

### 1. Blink æ¸²æŸ“å¼•æ“

**Blink** æ˜¯ Chromium çš„æ¸²æŸ“å¼•æ“ï¼Œè´Ÿè´£å°† HTMLã€CSS è½¬æ¢ä¸ºå±å¹•ä¸Šçš„åƒç´ ã€‚

```
HTML + CSS + JavaScript
         â†“
    Blink æ¸²æŸ“å¼•æ“
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. HTML è§£æ           â”‚
â”‚     â””â”€> DOM æ ‘          â”‚
â”‚                        â”‚
â”‚  2. CSS è§£æ            â”‚
â”‚     â””â”€> CSSOM æ ‘        â”‚
â”‚                        â”‚
â”‚  3. æ¸²æŸ“æ ‘æ„å»º          â”‚
â”‚     â””â”€> Render Tree    â”‚
â”‚                        â”‚
â”‚  4. å¸ƒå±€è®¡ç®—            â”‚
â”‚     â””â”€> Layout         â”‚
â”‚                        â”‚
â”‚  5. ç»˜åˆ¶                â”‚
â”‚     â””â”€> Paint          â”‚
â”‚                        â”‚
â”‚  6. åˆæˆ                â”‚
â”‚     â””â”€> Composite      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    å±å¹•æ˜¾ç¤º
```

**ä¸»è¦åŠŸèƒ½**ï¼š
- **HTML è§£æ**ï¼šå°† HTML æ–‡æœ¬è§£æä¸º DOM æ ‘
- **CSS è§£æ**ï¼šå°† CSS æ ·å¼è§£æä¸º CSSOM æ ‘
- **å¸ƒå±€è®¡ç®—**ï¼šè®¡ç®—å…ƒç´ çš„ä½ç½®å’Œå¤§å°
- **ç»˜åˆ¶**ï¼šå°†å…ƒç´ ç»˜åˆ¶ä¸ºå›¾å±‚
- **åˆæˆ**ï¼šå°†å›¾å±‚åˆæˆä¸ºæœ€ç»ˆå›¾åƒ

**å†å²**ï¼š
- Blink æ˜¯ WebKit çš„åˆ†æ”¯ï¼ˆ2013 å¹´ï¼‰
- WebKit æ˜¯ KHTML çš„åˆ†æ”¯
- Safari ä½¿ç”¨ WebKit

---

### 2. V8 JavaScript å¼•æ“

**V8** æ˜¯ Google å¼€å‘çš„é«˜æ€§èƒ½ JavaScript å’Œ WebAssembly å¼•æ“ã€‚

```
JavaScript ä»£ç 
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      V8 å¼•æ“            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. è§£æ (Parser)       â”‚
â”‚     â””â”€> æŠ½è±¡è¯­æ³•æ ‘ (AST)â”‚
â”‚                         â”‚
â”‚  2. ç¼–è¯‘ (Compiler)     â”‚
â”‚     â”œâ”€> Ignition (è§£é‡Šå™¨)â”‚
â”‚     â””â”€> TurboFan (ä¼˜åŒ–ç¼–è¯‘å™¨)â”‚
â”‚                         â”‚
â”‚  3. æ‰§è¡Œ (Execution)    â”‚
â”‚     â””â”€> æœºå™¨ç           â”‚
â”‚                         â”‚
â”‚  4. åƒåœ¾å›æ”¶ (GC)       â”‚
â”‚     â””â”€> å†…å­˜ç®¡ç†        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
   æ‰§è¡Œç»“æœ
```

**å…³é”®ç‰¹æ€§**ï¼š

#### å³æ—¶ç¼–è¯‘ (JIT)
```javascript
// ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼šè§£é‡Šæ‰§è¡Œï¼ˆæ…¢ï¼‰
function add(a, b) {
  return a + b;
}

// å¤šæ¬¡æ‰§è¡Œåï¼šä¼˜åŒ–ç¼–è¯‘ä¸ºæœºå™¨ç ï¼ˆå¿«ï¼‰
add(1, 2);
add(3, 4);
add(5, 6); // è§¦å‘ä¼˜åŒ–
```

#### åƒåœ¾å›æ”¶
```javascript
// è‡ªåŠ¨å†…å­˜ç®¡ç†
let obj = { data: 'large data' };
obj = null; // å¯¹è±¡ä¼šè¢« GC å›æ”¶
```

#### å¤šçº¿ç¨‹æ”¯æŒ
```javascript
// Worker çº¿ç¨‹
const worker = new Worker('worker.js');
worker.postMessage({ data: 'hello' });
```

**V8 ä¹Ÿç”¨äº**ï¼š
- Node.jsï¼ˆæœåŠ¡å™¨ç«¯ JavaScriptï¼‰
- Denoï¼ˆç°ä»£ JavaScript è¿è¡Œæ—¶ï¼‰
- Electronï¼ˆæ¡Œé¢åº”ç”¨ï¼‰

---

### 3. Skia å›¾å½¢åº“

**Skia** æ˜¯ Chromium çš„ 2D å›¾å½¢åº“ï¼Œè´Ÿè´£å®é™…çš„åƒç´ ç»˜åˆ¶ã€‚

```
æ¸²æŸ“æŒ‡ä»¤
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Skia å›¾å½¢åº“   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - ç»˜åˆ¶å½¢çŠ¶     â”‚
â”‚  - ç»˜åˆ¶æ–‡æœ¬     â”‚
â”‚  - å›¾ç‰‡å¤„ç†     â”‚
â”‚  - æ»¤é•œæ•ˆæœ     â”‚
â”‚  - GPU åŠ é€Ÿ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
å±å¹•åƒç´ 
```

**ç”¨é€”**ï¼š
- ç»˜åˆ¶ç½‘é¡µå†…å®¹
- Canvas API å®ç°
- CSS æ•ˆæœï¼ˆé˜´å½±ã€æ¸å˜ç­‰ï¼‰
- å­—ä½“æ¸²æŸ“

**Skia ä¹Ÿç”¨äº**ï¼š
- Androidï¼ˆUI æ¸²æŸ“ï¼‰
- Flutterï¼ˆUI æ¡†æ¶ï¼‰
- Chrome OS

---

### 4. ç½‘ç»œæ ˆ

Chromium æœ‰å®Œæ•´çš„ç½‘ç»œå®ç°ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Chromium ç½‘ç»œæ ˆ                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  åº”ç”¨å±‚                                 â”‚
â”‚  â”œâ”€ HTTP/1.1                           â”‚
â”‚  â”œâ”€ HTTP/2                             â”‚
â”‚  â”œâ”€ HTTP/3 (QUIC)                      â”‚
â”‚  â””â”€ WebSocket                          â”‚
â”‚                                        â”‚
â”‚  å®‰å…¨å±‚                                 â”‚
â”‚  â”œâ”€ TLS/SSL                            â”‚
â”‚  â”œâ”€ è¯ä¹¦éªŒè¯                            â”‚
â”‚  â””â”€ HSTS                               â”‚
â”‚                                        â”‚
â”‚  ç¼“å­˜å±‚                                 â”‚
â”‚  â”œâ”€ å†…å­˜ç¼“å­˜                            â”‚
â”‚  â”œâ”€ ç£ç›˜ç¼“å­˜                            â”‚
â”‚  â””â”€ Service Worker ç¼“å­˜                â”‚
â”‚                                        â”‚
â”‚  ä¼ è¾“å±‚                                 â”‚
â”‚  â”œâ”€ TCP                                â”‚
â”‚  â””â”€ UDP (QUIC)                         â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹æ€§**ï¼š
- æ”¯æŒæœ€æ–°åè®®ï¼ˆHTTP/3ã€QUICï¼‰
- å¼ºå¤§çš„ç¼“å­˜æœºåˆ¶
- DNS é¢„è§£æ
- è¿æ¥æ± ç®¡ç†

---

## ğŸ¯ Chromium åœ¨ Electron ä¸­çš„è§’è‰²

### Electron = Node.js + Chromium

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Electron æ¶æ„                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Node.js éƒ¨åˆ†ï¼ˆåç«¯èƒ½åŠ›ï¼‰                               â”‚
â”‚  â”œâ”€ æ–‡ä»¶ç³»ç»Ÿ (fs)                                       â”‚
â”‚  â”œâ”€ ç½‘ç»œæœåŠ¡å™¨ (http)                                   â”‚
â”‚  â”œâ”€ å­è¿›ç¨‹ (child_process)                             â”‚
â”‚  â””â”€ åŸç”Ÿæ¨¡å— (native addons)                           â”‚
â”‚                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ + â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚                                                         â”‚
â”‚  Chromium éƒ¨åˆ†ï¼ˆå‰ç«¯èƒ½åŠ›ï¼‰                              â”‚
â”‚  â”œâ”€ DOM æ“ä½œ (document)                                â”‚
â”‚  â”œâ”€ ç”¨æˆ·ç•Œé¢ (CSS, Canvas)                             â”‚
â”‚  â”œâ”€ JavaScript æ‰§è¡Œ (V8)                               â”‚
â”‚  â””â”€ Web API (fetch, localStorage)                     â”‚
â”‚                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚
â”‚                                                         â”‚
â”‚  = æ¡Œé¢åº”ç”¨                                             â”‚
â”‚    - å¯ä»¥è¯»å†™æ–‡ä»¶                                       â”‚
â”‚    - å¯ä»¥ä½¿ç”¨ç³»ç»Ÿ API                                   â”‚
â”‚    - æœ‰æ¼‚äº®çš„ UI ç•Œé¢                                   â”‚
â”‚    - è·¨å¹³å°è¿è¡Œ                                         â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æœ¬é¡¹ç›®ä¸­çš„ Chromium

```typescript
// electron/main/index.ts
const win = new BrowserWindow({
  width: 1280,
  height: 800,
  webPreferences: {
    // Chromium è®¾ç½®
    nodeIntegration: true,      // åœ¨ Chromium ä¸­å¯ç”¨ Node.js
    contextIsolation: false,    // å…³é—­ Chromium çš„æ²™ç›’éš”ç¦»
    webSecurity: false,         // å…³é—­ Chromium çš„å®‰å…¨ç­–ç•¥
  }
});

// åŠ è½½é¡µé¢åˆ° Chromium æ¸²æŸ“è¿›ç¨‹
win.loadURL('http://localhost:7777');  // å¼€å‘æ¨¡å¼
win.loadFile('dist/index.html');       // ç”Ÿäº§æ¨¡å¼
```

**Chromium æä¾›ç»™æœ¬é¡¹ç›®çš„èƒ½åŠ›**ï¼š
1. âœ… **æ¸²æŸ“ React åº”ç”¨** - Blink æ¸²æŸ“å¼•æ“
2. âœ… **æ‰§è¡Œ JavaScript** - V8 å¼•æ“
3. âœ… **æ˜¾ç¤º G6 å›¾å½¢** - Canvas API + Skia
4. âœ… **å¤„ç†ç”¨æˆ·äº¤äº’** - äº‹ä»¶ç³»ç»Ÿ
5. âœ… **ç½‘ç»œè¯·æ±‚** - fetch API
6. âœ… **æœ¬åœ°å­˜å‚¨** - localStorage/IndexedDB

---

## ğŸ”„ å¤šè¿›ç¨‹æ¶æ„

### ä¸ºä»€ä¹ˆä½¿ç”¨å¤šè¿›ç¨‹ï¼Ÿ

**å•è¿›ç¨‹çš„é—®é¢˜**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     å•è¿›ç¨‹æµè§ˆå™¨                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ ‡ç­¾é¡µ 1 â”€â”                   â”‚
â”‚  æ ‡ç­¾é¡µ 2 â”€â”¼â”€> ä¸€ä¸ªè¿›ç¨‹         â”‚
â”‚  æ ‡ç­¾é¡µ 3 â”€â”˜                   â”‚
â”‚                                â”‚
â”‚  é—®é¢˜ï¼š                         â”‚
â”‚  âŒ ä¸€ä¸ªæ ‡ç­¾é¡µå´©æºƒ = å…¨éƒ¨å´©æºƒ   â”‚
â”‚  âŒ ä¸€ä¸ªæ ‡ç­¾é¡µå¡é¡¿ = å…¨éƒ¨å¡é¡¿   â”‚
â”‚  âŒ å†…å­˜æ³„æ¼å½±å“æ‰€æœ‰æ ‡ç­¾é¡µ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¤šè¿›ç¨‹çš„ä¼˜åŠ¿**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     å¤šè¿›ç¨‹æµè§ˆå™¨ (Chromium)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ ‡ç­¾é¡µ 1  â”‚  â”‚ æ ‡ç­¾é¡µ 2  â”‚   â”‚
â”‚  â”‚ è¿›ç¨‹ A   â”‚  â”‚ è¿›ç¨‹ B   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚
â”‚  ä¼˜åŠ¿ï¼š                         â”‚
â”‚  âœ… éš”ç¦»ï¼šå´©æºƒä¸å½±å“å…¶ä»–        â”‚
â”‚  âœ… å®‰å…¨ï¼šæ²™ç›’ä¿æŠ¤              â”‚
â”‚  âœ… ç¨³å®šï¼šå•ç‹¬è¿›ç¨‹ç®¡ç†          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Chromium çš„è¿›ç¨‹ç±»å‹

#### 1. æµè§ˆå™¨è¿›ç¨‹ (Browser Process)

**èŒè´£**ï¼š
- æ˜¾ç¤º UIï¼ˆåœ°å€æ ã€æ ‡ç­¾é¡µã€èœå•ï¼‰
- ç®¡ç†å…¶ä»–è¿›ç¨‹
- å¤„ç†æ–‡ä»¶è®¿é—®
- ç½‘ç»œè¯·æ±‚ç®¡ç†

```javascript
// åœ¨ Electron ä¸­å¯¹åº”ä¸»è¿›ç¨‹
// electron/main/index.ts
app.whenReady().then(() => {
  createWindow(); // åˆ›å»º Chromium çª—å£
});
```

#### 2. æ¸²æŸ“è¿›ç¨‹ (Renderer Process)

**èŒè´£**ï¼š
- è¿è¡Œç½‘é¡µä»£ç 
- æ‰§è¡Œ JavaScript
- æ¸²æŸ“ DOM
- å¤„ç†ç”¨æˆ·äº¤äº’

```javascript
// åœ¨ Electron ä¸­å¯¹åº”æ¸²æŸ“è¿›ç¨‹
// src/main.tsx
ReactDOM.createRoot(document.getElementById('root')).render(
  <App />
);
```

**ç‰¹ç‚¹**ï¼š
- æ¯ä¸ªæ ‡ç­¾é¡µ/çª—å£ä¸€ä¸ªè¿›ç¨‹
- è¿è¡Œåœ¨æ²™ç›’ä¸­ï¼ˆå¯é…ç½®ï¼‰
- é€šè¿‡ IPC ä¸æµè§ˆå™¨è¿›ç¨‹é€šä¿¡

#### 3. GPU è¿›ç¨‹

**èŒè´£**ï¼š
- å¤„ç†æ‰€æœ‰ GPU ä»»åŠ¡
- 3D CSS å˜æ¢
- Canvas ç»˜åˆ¶
- WebGL æ¸²æŸ“

```javascript
// åœ¨ç½‘é¡µä¸­ä½¿ç”¨ GPU
const canvas = document.getElementById('canvas');
const gl = canvas.getContext('webgl');
// WebGL æ¸²æŸ“...
```

#### 4. ç½‘ç»œè¿›ç¨‹

**èŒè´£**ï¼š
- å¤„ç†æ‰€æœ‰ç½‘ç»œè¯·æ±‚
- ç®¡ç†ç¼“å­˜
- Cookie ç®¡ç†
- HTTP/HTTPS è¯·æ±‚

```javascript
// ç½‘ç»œè¯·æ±‚ä¼šç»è¿‡ç½‘ç»œè¿›ç¨‹
fetch('https://api.example.com/data')
  .then(response => response.json());
```

#### 5. æ’ä»¶è¿›ç¨‹

**èŒè´£**ï¼š
- è¿è¡Œæµè§ˆå™¨æ’ä»¶
- éš”ç¦»æ’ä»¶ä»£ç 
- Flashã€PDF æŸ¥çœ‹å™¨ç­‰

---

## ğŸ¨ æ¸²æŸ“æµç¨‹

### ä» HTML åˆ°å±å¹•çš„å®Œæ•´æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Chromium æ¸²æŸ“ç®¡é“                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  1. HTML è§£æ                                           â”‚
â”‚     HTML æ–‡æœ¬ â†’ DOM æ ‘                                  â”‚
â”‚     <div><p>Hello</p></div> â†’ Element å¯¹è±¡              â”‚
â”‚                                                         â”‚
â”‚  2. CSS è§£æ                                            â”‚
â”‚     CSS æ–‡æœ¬ â†’ CSSOM æ ‘                                 â”‚
â”‚     p { color: red; } â†’ StyleRule å¯¹è±¡                 â”‚
â”‚                                                         â”‚
â”‚  3. JavaScript æ‰§è¡Œ                                     â”‚
â”‚     V8 æ‰§è¡Œ JS â†’ å¯èƒ½ä¿®æ”¹ DOM/CSSOM                     â”‚
â”‚                                                         â”‚
â”‚  4. æ ·å¼è®¡ç®— (Recalc Style)                            â”‚
â”‚     åˆå¹¶ DOM + CSSOM â†’ Computed Style                  â”‚
â”‚                                                         â”‚
â”‚  5. å¸ƒå±€ (Layout)                                       â”‚
â”‚     è®¡ç®—æ¯ä¸ªå…ƒç´ çš„ä½ç½®å’Œå¤§å°                             â”‚
â”‚     ç”Ÿæˆ Layout Tree                                    â”‚
â”‚                                                         â”‚
â”‚  6. åˆ†å±‚ (Layer)                                        â”‚
â”‚     æŸäº›å…ƒç´ æå‡ä¸ºåˆæˆå±‚                                 â”‚
â”‚     (transform, opacity, will-change ç­‰)               â”‚
â”‚                                                         â”‚
â”‚  7. ç»˜åˆ¶ (Paint)                                        â”‚
â”‚     ä¸ºæ¯ä¸ªå›¾å±‚ç”Ÿæˆç»˜åˆ¶æŒ‡ä»¤åˆ—è¡¨                           â”‚
â”‚     Display List                                       â”‚
â”‚                                                         â”‚
â”‚  8. æ …æ ¼åŒ– (Rasterize)                                  â”‚
â”‚     å°†ç»˜åˆ¶æŒ‡ä»¤è½¬æ¢ä¸ºåƒç´                                  â”‚
â”‚     ä½¿ç”¨ Skia åœ¨ GPU ä¸Šæ‰§è¡Œ                             â”‚
â”‚                                                         â”‚
â”‚  9. åˆæˆ (Composite)                                    â”‚
â”‚     å°†æ‰€æœ‰å›¾å±‚åˆæˆä¸ºæœ€ç»ˆå›¾åƒ                             â”‚
â”‚     GPU åŠ é€Ÿ                                            â”‚
â”‚                                                         â”‚
â”‚  10. æ˜¾ç¤º (Display)                                     â”‚
â”‚      å‘é€åˆ°å±å¹•                                          â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç¤ºä¾‹ï¼šæ¸²æŸ“ä¸€ä¸ªæŒ‰é’®

```html
<!-- HTML -->
<button class="btn" onclick="handleClick()">
  Click Me
</button>

<style>
.btn {
  background: blue;
  color: white;
  transform: translateX(100px);
}
</style>

<script>
function handleClick() {
  console.log('Clicked!');
}
</script>
```

**æ¸²æŸ“æ­¥éª¤**ï¼š

1. **è§£æ HTML** â†’ `<button>` DOM èŠ‚ç‚¹
2. **è§£æ CSS** â†’ `.btn` æ ·å¼è§„åˆ™
3. **æ ·å¼è®¡ç®—** â†’ button å…ƒç´ çš„æœ€ç»ˆæ ·å¼
   ```
   background: blue
   color: white
   transform: translateX(100px)
   ```
4. **å¸ƒå±€** â†’ è®¡ç®—æŒ‰é’®çš„ä½ç½®å’Œå¤§å°
   ```
   x: 100px (å› ä¸º transform)
   y: 0px
   width: 80px
   height: 30px
   ```
5. **åˆ†å±‚** â†’ å› ä¸ºæœ‰ `transform`ï¼Œæå‡ä¸ºåˆæˆå±‚
6. **ç»˜åˆ¶** â†’ ç”Ÿæˆç»˜åˆ¶æŒ‡ä»¤
   ```
   - ç»˜åˆ¶è“è‰²çŸ©å½¢èƒŒæ™¯
   - ç»˜åˆ¶ç™½è‰²æ–‡å­— "Click Me"
   ```
7. **æ …æ ¼åŒ–** â†’ åœ¨ GPU ä¸Šè½¬æ¢ä¸ºåƒç´ 
8. **åˆæˆ** â†’ ä¸å…¶ä»–å›¾å±‚åˆæˆ
9. **æ˜¾ç¤º** â†’ åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæŒ‰é’®

**æ€§èƒ½ä¼˜åŒ–**ï¼š
- `transform` ä¸è§¦å‘å¸ƒå±€å’Œç»˜åˆ¶ï¼Œåªè§¦å‘åˆæˆ
- GPU åŠ é€Ÿï¼Œæ€§èƒ½æ›´å¥½

---

## ğŸŒ ä¸å…¶ä»–æµè§ˆå™¨çš„å…³ç³»

### æµè§ˆå™¨å¼•æ“ç³»åˆ—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                æµè§ˆå™¨å¼•æ“å®¶æ—æ ‘                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  KHTML (KDE é¡¹ç›®)                                      â”‚
â”‚    â””â”€> WebKit (Apple, 2001)                          â”‚
â”‚         â”œâ”€> Safari (Apple)                           â”‚
â”‚         â”œâ”€> æ—©æœŸ Chrome (Google, 2008-2013)          â”‚
â”‚         â””â”€> Blink (Google, 2013-è‡³ä»Š) â† Chromium     â”‚
â”‚              â”œâ”€> Chrome                               â”‚
â”‚              â”œâ”€> Edge (Microsoft, 2020)              â”‚
â”‚              â”œâ”€> Opera                                â”‚
â”‚              â”œâ”€> Brave                                â”‚
â”‚              â””â”€> Electron â† æœ¬é¡¹ç›®ä½¿ç”¨                â”‚
â”‚                                                        â”‚
â”‚  Gecko (Mozilla, 1997)                                â”‚
â”‚    â””â”€> Firefox                                        â”‚
â”‚                                                        â”‚
â”‚  Trident (Microsoft, 1997)                            â”‚
â”‚    â””â”€> Internet Explorer (å·²åœæ­¢)                     â”‚
â”‚         â””â”€> EdgeHTML                                  â”‚
â”‚              â””â”€> æ—©æœŸ Edge (å·²åˆ‡æ¢åˆ° Blink)           â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¸‚åœºä»½é¢ï¼ˆ2024ï¼‰

```
æµè§ˆå™¨å¼•æ“å¸‚åœºä»½é¢
â”œâ”€ Blink/Chromium: ~65%
â”‚  â”œâ”€ Chrome: 45%
â”‚  â”œâ”€ Edge: 12%
â”‚  â”œâ”€ Opera: 3%
â”‚  â””â”€ å…¶ä»–: 5%
â”œâ”€ WebKit: ~20%
â”‚  â””â”€ Safari: 20%
â”œâ”€ Gecko: ~3%
â”‚  â””â”€ Firefox: 3%
â””â”€ å…¶ä»–: ~12%
```

**ä¸ºä»€ä¹ˆ Chromium å¦‚æ­¤æµè¡Œï¼Ÿ**
1. âœ… å¼€æºå…è´¹
2. âœ… æ€§èƒ½ä¼˜ç§€
3. âœ… æ ‡å‡†æ”¯æŒå¥½
4. âœ… æ›´æ–°å¿«é€Ÿ
5. âœ… ç”Ÿæ€ä¸°å¯Œ

---

## ğŸ’» å®é™…åº”ç”¨

### 1. åœ¨æœ¬é¡¹ç›®ä¸­æ£€æŸ¥ Chromium ç‰ˆæœ¬

```javascript
// åœ¨æ¸²æŸ“è¿›ç¨‹ï¼ˆæµè§ˆå™¨æ§åˆ¶å°ï¼‰ä¸­
console.log(process.versions);

// è¾“å‡ºï¼š
{
  node: '20.9.0',
  chrome: '120.0.6099.109',    // â† Chromium ç‰ˆæœ¬
  electron: '33.2.0',
  v8: '12.0.267.8-electron.0'  // â† V8 ç‰ˆæœ¬
}
```

### 2. ä½¿ç”¨ Chromium DevTools

```javascript
// electron/main/index.ts
if (VITE_DEV_SERVER_URL) {
  win.webContents.openDevTools();  // æ‰“å¼€ Chromium å¼€å‘è€…å·¥å…·
}
```

**DevTools åŠŸèƒ½**ï¼š
- Elementsï¼šæ£€æŸ¥ DOM å’Œæ ·å¼
- Consoleï¼šæŸ¥çœ‹æ—¥å¿—å’Œé”™è¯¯
- Sourcesï¼šè°ƒè¯• JavaScript
- Networkï¼šæŸ¥çœ‹ç½‘ç»œè¯·æ±‚
- Performanceï¼šæ€§èƒ½åˆ†æ
- Memoryï¼šå†…å­˜åˆ†æ

### 3. Chromium æ ‡å¿—ï¼ˆFlagsï¼‰

```javascript
// electron/main/index.ts
app.commandLine.appendSwitch('disable-gpu');              // ç¦ç”¨ GPU
app.commandLine.appendSwitch('enable-features', 'WebGPU'); // å¯ç”¨ WebGPU
app.commandLine.appendSwitch('force-color-profile', 'srgb'); // é¢œè‰²é…ç½®
```

### 4. æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–

```javascript
// ä½¿ç”¨ Chromium çš„æ€§èƒ½ API
// src/components/editor.tsx

// æµ‹é‡æ¸²æŸ“æ€§èƒ½
performance.mark('render-start');

// æ¸²æŸ“å¤æ‚çš„è¡Œä¸ºæ ‘
renderTree(treeData);

performance.mark('render-end');
performance.measure('render-time', 'render-start', 'render-end');

const measure = performance.getEntriesByName('render-time')[0];
console.log(`æ¸²æŸ“è€—æ—¶: ${measure.duration}ms`);
```

### 5. ä½¿ç”¨ Web Workersï¼ˆChromium å¤šçº¿ç¨‹ï¼‰

```javascript
// åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­ä½¿ç”¨ Worker
// src/utils/worker.ts

// ä¸»çº¿ç¨‹
const worker = new Worker(new URL('./tree-worker.ts', import.meta.url));

worker.postMessage({ tree: largeTreeData });

worker.onmessage = (e) => {
  const result = e.data;
  console.log('Worker å¤„ç†å®Œæˆ:', result);
};

// Worker çº¿ç¨‹ (tree-worker.ts)
self.onmessage = (e) => {
  const tree = e.tree;
  
  // åœ¨åå°çº¿ç¨‹å¤„ç†å¤æ‚è®¡ç®—
  const processedTree = processTree(tree);
  
  self.postMessage(processedTree);
};
```

---

## ğŸ” Chromium vs Chrome

### åŒºåˆ«å¯¹æ¯”

| ç‰¹æ€§ | Chromium | Google Chrome |
|-----|----------|---------------|
| **å¼€æº** | âœ… å®Œå…¨å¼€æº | âŒ éƒ¨åˆ†é—­æº |
| **è®¸å¯è¯** | BSD | Google ç§æœ‰ |
| **Google æœåŠ¡** | âŒ æ—  | âœ… æœ‰ï¼ˆç™»å½•ã€åŒæ­¥ã€ç¿»è¯‘ç­‰ï¼‰ |
| **è‡ªåŠ¨æ›´æ–°** | âŒ éœ€æ‰‹åŠ¨ | âœ… è‡ªåŠ¨ |
| **åª’ä½“ç¼–ç ** | éƒ¨åˆ†å—é™ | å®Œæ•´æ”¯æŒ |
| **Flash** | âŒ | âœ… ï¼ˆå·²åœæ­¢ï¼‰ |
| **å“ç‰Œæ ‡è¯†** | Chromium å›¾æ ‡ | Chrome å›¾æ ‡ |
| **Widevine DRM** | âŒ | âœ… ï¼ˆNetflix ç­‰ï¼‰ |

**Chrome æ·»åŠ çš„å†…å®¹**ï¼š
- Google è´¦å·é›†æˆ
- åŒæ­¥åŠŸèƒ½
- Google ç¿»è¯‘
- è‡ªåŠ¨æ›´æ–°æœºåˆ¶
- æŸäº›ä¸“æœ‰ç¼–ç å™¨
- å´©æºƒæŠ¥å‘Šï¼ˆå‘é€åˆ° Googleï¼‰

---

## ğŸ“š æ·±å…¥ç†è§£ï¼šå…³é”®æ¦‚å¿µ

### 1. æ²™ç›’ï¼ˆSandboxï¼‰

Chromium çš„å®‰å…¨æœºåˆ¶ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          æ²™ç›’éš”ç¦»                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  æµè§ˆå™¨è¿›ç¨‹ï¼ˆç‰¹æƒï¼‰                     â”‚
â”‚  â”œâ”€ å®Œæ•´ç³»ç»Ÿæƒé™                        â”‚
â”‚  â”œâ”€ æ–‡ä»¶è®¿é—®                            â”‚
â”‚  â””â”€ ç½‘ç»œè®¿é—®                            â”‚
â”‚                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€ æ²™ç›’è¾¹ç•Œ â”€â”€â”€â”€â”€â”€                â”‚
â”‚                                        â”‚
â”‚  æ¸²æŸ“è¿›ç¨‹ï¼ˆå—é™ï¼‰                       â”‚
â”‚  â”œâ”€ âŒ æ— æ–‡ä»¶ç³»ç»Ÿè®¿é—®                   â”‚
â”‚  â”œâ”€ âŒ æ— ç½‘ç»œç›´æ¥è®¿é—®                   â”‚
â”‚  â””â”€ âŒ æ— ç³»ç»Ÿè°ƒç”¨                       â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æœ¬é¡¹ç›®ç¦ç”¨äº†æ²™ç›’**ï¼š
```typescript
webPreferences: {
  contextIsolation: false,  // ç¦ç”¨ä¸Šä¸‹æ–‡éš”ç¦»
  nodeIntegration: true,    // å¯ç”¨ Node.jsï¼ˆçªç ´æ²™ç›’ï¼‰
}
```

### 2. Blink æ¸²æŸ“å¼•æ“å†…éƒ¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Blink å†…éƒ¨ç»„ä»¶                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  HTML Parser                           â”‚
â”‚  â””â”€> å°† HTML è½¬æ¢ä¸º DOM æ ‘             â”‚
â”‚                                        â”‚
â”‚  CSS Parser                            â”‚
â”‚  â””â”€> å°† CSS è½¬æ¢ä¸º CSSOM æ ‘            â”‚
â”‚                                        â”‚
â”‚  Style Resolver                        â”‚
â”‚  â””â”€> è®¡ç®—æ¯ä¸ªå…ƒç´ çš„æœ€ç»ˆæ ·å¼             â”‚
â”‚                                        â”‚
â”‚  Layout Engine                         â”‚
â”‚  â””â”€> è®¡ç®—å…ƒç´ çš„å‡ ä½•ä½ç½®                 â”‚
â”‚                                        â”‚
â”‚  Paint Engine                          â”‚
â”‚  â””â”€> ç”Ÿæˆç»˜åˆ¶æŒ‡ä»¤                       â”‚
â”‚                                        â”‚
â”‚  Compositor                            â”‚
â”‚  â””â”€> åˆæˆå›¾å±‚                           â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. V8 ä¼˜åŒ–æŠ€æœ¯

```javascript
// éšè—ç±»ä¼˜åŒ–
class Point {
  constructor(x, y) {
    this.x = x;  // éšè—ç±» 1
    this.y = y;  // éšè—ç±» 2
  }
}

// âœ… å¥½ï¼šç›¸åŒçš„å±æ€§é¡ºåºï¼ŒV8 å¯ä»¥ä¼˜åŒ–
const p1 = new Point(1, 2);
const p2 = new Point(3, 4);

// âŒ å·®ï¼šç ´åéšè—ç±»ï¼Œæ— æ³•ä¼˜åŒ–
const p3 = {};
p3.y = 2;  // ä¸åŒçš„å±æ€§é¡ºåº
p3.x = 1;
```

---

## ğŸ“ æ€»ç»“

### Chromium æ ¸å¿ƒè¦ç‚¹

1. **Chromium æ˜¯ä»€ä¹ˆ**
   - å¼€æºæµè§ˆå™¨é¡¹ç›®
   - Chromeã€Edgeã€Operaã€Electron çš„åŸºç¡€

2. **æ ¸å¿ƒç»„ä»¶**
   - **Blink**ï¼šæ¸²æŸ“å¼•æ“ï¼ˆHTML + CSSï¼‰
   - **V8**ï¼šJavaScript å¼•æ“
   - **Skia**ï¼šå›¾å½¢åº“
   - **ç½‘ç»œæ ˆ**ï¼šHTTP/HTTPS

3. **å¤šè¿›ç¨‹æ¶æ„**
   - æµè§ˆå™¨è¿›ç¨‹ï¼šç®¡ç†å’Œ UI
   - æ¸²æŸ“è¿›ç¨‹ï¼šè¿è¡Œç½‘é¡µ
   - GPU è¿›ç¨‹ï¼šå›¾å½¢åŠ é€Ÿ
   - ç½‘ç»œè¿›ç¨‹ï¼šç½‘ç»œè¯·æ±‚

4. **åœ¨ Electron ä¸­**
   - æä¾› UI æ¸²æŸ“èƒ½åŠ›
   - æ‰§è¡Œ JavaScriptï¼ˆV8ï¼‰
   - ä¸ Node.js ç»“åˆ
   - æœ¬é¡¹ç›®ä½¿ç”¨ Chromium 120+

5. **æ¸²æŸ“æµç¨‹**
   ```
   HTML â†’ DOM â†’ Style â†’ Layout â†’ Paint â†’ Composite â†’ å±å¹•
   ```

### ä¸æœ¬é¡¹ç›®çš„å…³ç³»

```
Behavior3Editor
â”œâ”€â”€ Node.jsï¼ˆæ–‡ä»¶æ“ä½œã€ç³»ç»Ÿ APIï¼‰
â””â”€â”€ Chromiumï¼ˆUI æ¸²æŸ“ã€ç”¨æˆ·äº¤äº’ï¼‰
    â”œâ”€â”€ Blinkï¼ˆæ¸²æŸ“ React ç»„ä»¶ï¼‰
    â”œâ”€â”€ V8ï¼ˆæ‰§è¡Œ JavaScriptï¼‰
    â”œâ”€â”€ Skiaï¼ˆç»˜åˆ¶ G6 å›¾å½¢ï¼‰
    â””â”€â”€ DevToolsï¼ˆå¼€å‘è°ƒè¯•ï¼‰
```

---

## ğŸ”— ç›¸å…³èµ„æº

- [Chromium å®˜ç½‘](https://www.chromium.org/)
- [Chromium æºç ](https://chromium.googlesource.com/chromium/src/)
- [Blink æ–‡æ¡£](https://www.chromium.org/blink)
- [V8 æ–‡æ¡£](https://v8.dev/)
- [How Chromium Displays Web Pages](https://www.chromium.org/developers/design-documents/displaying-a-web-page-in-chrome/)
- [Life of a Pixel](https://docs.google.com/presentation/d/1boPxbgNrTU0ddsc144rcXayGA_WF53k96imRH8Mp34Y/edit)

ç°åœ¨ä½ åº”è¯¥å®Œå…¨ç†è§£ Chromium åœ¨æ•´ä¸ªæŠ€æœ¯æ ˆä¸­çš„æ ¸å¿ƒåœ°ä½äº†ï¼ğŸ‰

